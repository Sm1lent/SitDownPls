"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var _Swiper;function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,(function(){function e(e){var t=!0,n=!1,i=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function r(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function a(e){t=!1}function d(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(s(e.activeElement)&&r(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",a,!0),document.addEventListener("pointerdown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),d())}),!0),d(),e.addEventListener("focus",(function(e){var n,i,a;s(e.target)&&(t||(n=e.target,i=n.type,"INPUT"===(a=n.tagName)&&o[i]&&!n.readOnly||"TEXTAREA"===a&&!n.readOnly||n.isContentEditable))&&r(e.target)}),!0),e.addEventListener("blur",(function(e){var t;s(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}));var body=document.body,container=document.querySelector(".container"),burger=document.querySelector(".burger"),nav=document.querySelector(".header__menu-wrap"),header=document.querySelector(".header"),choicesLocation=document.querySelector("#choices-location"),mailUsSection=document.querySelector(".mail-us"),anchors=document.querySelectorAll('a[href*="#"]');anchors.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href").substring(1),i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}))}));var choices1=new Choices(choicesLocation,{searchEnabled:!1,shouldSort:!1});function dropdownAct(e,t){e.classList.toggle("is-active"),e.classList.contains("is-active")?(t.classList.add("is-opened"),t.style.maxHeight=t.scrollHeight+"px"):(t.removeAttribute("style"),setTimeout((function(){t.classList.remove("is-opened")}),350))}var categoriesBtn=document.querySelector(".categories__control"),categoriesDropdown=document.querySelector(".categories__dropdown");categoriesBtn.addEventListener("click",(function(){dropdownAct(categoriesBtn,categoriesDropdown)}));var heroSwiper=new Swiper(".hero-swiper",(_defineProperty(_Swiper={direction:"horizontal",watchSlidesProgress:!0,slidesPerView:1,spaceBetween:10,keyboard:!0,autoplay:!0},"autoplay",{disableOnInteraction:!1}),_defineProperty(_Swiper,"watchSlidesProgress",!0),_defineProperty(_Swiper,"watchSlidesVisibility",!0),_defineProperty(_Swiper,"slideVisibleClass","slide-visible"),_defineProperty(_Swiper,"on",{init:function(){this.slides.forEach((function(e){var t=e.querySelector(".btn");e.classList.contains("slide-visible")?t.tabIndex="":t.tabIndex="-1"}))},slideChange:function(){this.slides.forEach((function(e){var t=e.querySelector(".btn");e.classList.contains("slide-visible")?t.tabIndex="":t.tabIndex="-1"}))}}),_Swiper));heroSwiper.on("activeIndexChange",runDisplayProgress(3100));var heroPagBtns=document.querySelectorAll(".progressbar-block__bullet");heroPagBtns.forEach((function(e){var t=e.dataset.index;e.addEventListener("click",(function(){heroSwiper.slideTo(t,300)}))}));var specSwiper=new Swiper(".special-swiper",{slidesPerView:"auto",navigation:{nextEl:".special__swiper-button-next",prevEl:".special__swiper-button-prev"},breakpoints:{584:{slidesPerGroup:2},1e3:{slidesPerGroup:3}},a11y:{prevSlideMessage:"Предыдущие слайды",nextSlideMessage:"Следующие слайды"},keyboard:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"slide-visible",on:{init:function(){this.slides.forEach((function(e){var t=e.querySelector(".btn");e.classList.contains("slide-visible")?t.tabIndex="":t.tabIndex="-1"}))},slideChange:function(){this.slides.forEach((function(e){var t=e.querySelector(".btn");e.classList.contains("slide-visible")?t.tabIndex="":t.tabIndex="-1"}))}}}),usefulSwiper=new Swiper(".useful-swiper",{direction:"horizontal",slidesPerView:1,slidesPerGroup:1,spaceBetween:12,slideClass:"useful-swiper__slide",navigation:{nextEl:".useful__swiper-button-next",prevEl:".useful__swiper-button-prev"},breakpoints:{581:{slidesPerView:2,slidesPerGroup:2,spaceBetween:32},1024:{slidesPerView:3,slidesPerGroup:3,spaceBetween:32},1230:{slidesPerView:2,slidesPerGroup:2,spaceBetween:32}},a11y:{prevSlideMessage:"Предыдущие слайды",nextSlideMessage:"Следующие слайды"},keyboard:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"slide-visible",on:{init:function(){this.slides.forEach((function(e){var t=e.querySelector(".btn");e.classList.contains("slide-visible")?t.tabIndex="":t.tabIndex="-1"}))},slideChange:function(){this.slides.forEach((function(e){var t=e.querySelector(".btn");e.classList.contains("slide-visible")?t.tabIndex="":t.tabIndex="-1"}))}}}),pseudo=document.querySelector(":root");function calcStripe(){pseudo.removeAttribute("style");var e=(container.offsetWidth-body.offsetWidth)/2;pseudo.style.setProperty("--stripe-shift","".concat(e,"px")),pseudo.style.setProperty("--stripe-width","".concat(body.offsetWidth,"px"))}calcStripe();var goodsCards=document.querySelectorAll(".rated__list-item"),rateBtn=document.querySelector(".rated__btn"),pageWidth=body.offsetWidth,goodsNumber=pageWidth<1200?6:8,actualgoodsNumber=goodsNumber;function switchCards(e){if(8==e)for(var t=6;t<8;t++)goodsCards[t].classList.contains("hidden")&&displayBlock(goodsCards[t]);for(var n=e;n<=goodsCards.length;n++)goodsCards[n]&&(goodsCards[n].classList.contains("hidden")||removeBlock(goodsCards[n]))}function displayBlock(e){e.classList.remove("hidden")}function removeBlock(e){e.classList.add("hidden")}switchCards(actualgoodsNumber),burger.addEventListener("click",(function(){dropdownAct(burger,nav)})),nav.addEventListener("click",(function(e){(e.target.classList.contains("menu__link")||e.target.classList.contains("sec-menu__link"))&&burger.classList.contains("is-active")&&(dropdownAct(burger,nav),resetHeader())})),window.addEventListener("resize",(function(){calcStripe(),pageWidth=body.offsetWidth,rateBtn.classList.contains("hidden")||(goodsNumber=pageWidth<1200?6:8)!=actualgoodsNumber&&switchCards(actualgoodsNumber=goodsNumber),window.innerWidth>1e3&&nav.classList.contains("is-active")&&(toggleBurgerAndMenu(),resetHeader())}));var btnShowMoreListener=function e(){for(var t=1;t<5;t++){var n=document.querySelector(".rated__list-item.hidden");n?displayBlock(n):(rateBtn.removeEventListener("click",e),removeBlock(rateBtn))}};rateBtn.addEventListener("click",btnShowMoreListener);var tippyBtn=document.querySelector(".mail-us__tip-btn"),tippyMessage=document.querySelector("#tippy-1");tippyBtn.addEventListener("click",(function(){tippyBtn.classList.toggle("is-active")})),tippy(".mail-us__tip-btn",{trigger:"click",maxWidth:157,content:"Реплицированные с зарубежных источников, исследования формируют глобальную сеть."});var validLettersRu=/^[А-Яа-я]+$/,validLettersEn=/^[A-Za-z]+$/,form=document.querySelector(".mail-us-form"),phoneInput=document.querySelector("#phone"),nameInput=document.querySelector("#name");Inputmask("+7(999)-999-99-99").mask(phoneInput);var validation=new window.JustValidate(form,{focusInvalidField:!0,successFieldCssClass:"valid-field",errorFieldCssClass:"invalid-field",errorLabelStyle:{color:"#FF6972"}});function runDisplayProgress(e){var t=heroSwiper.activeIndex,n=document.querySelector('[data-index="'.concat(t,'"]')).querySelector(".progressbar-block__progress"),i=n.getAttribute("r"),o=2*Math.PI*i,s=null;window.requestAnimationFrame((function i(r){s||(s=r);var a=r-s,d=heroSwiper.activeIndex,c=Math.floor(a/e*100);n.setAttribute("stroke-dasharray",o),n.setAttribute("stroke-dashoffset",o-o*c/100),a<e&&t===d?window.requestAnimationFrame(i):(c=0,n.setAttribute("stroke-dasharray",o),n.setAttribute("stroke-dashoffset",o-o*c/100),runDisplayProgress(3300))}))}validation.addField("#name",[{rule:"minLength",value:3,errorMessage:"Введите минимум 3 символа"},{rule:"maxLength",value:25,errorMessage:"Введите не более 25 символов"},{rule:"required",value:!0,errorMessage:"Как вас зовут?"},{rule:"function",validator:function(){var e=nameInput.value;return!(!e.match(validLettersRu)&&!e.match(validLettersEn))},errorMessage:"Допустимы только буквы кириллицы или латыни"}]).addField("#email",[{rule:"required",value:!0,errorMessage:"Укажите вашу почту"},{rule:"email",value:!0,errorMessage:"Введите корректный e-mail"}]).addField("#phone",[{rule:"required",value:!0,errorMessage:"Укажите ваш телефон"},{rule:"function",validator:function(){return 10===phoneInput.inputmask.unmaskedvalue().length},errorMessage:"Введите корректный телефон"}]).addField("#check",[{rule:"required",value:!0,errorMessage:"Необходимо подтвердить"}]).onSuccess((function(e){console.log("Validation passes and form submitted",e);var t=new FormData(e.target),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&console.log("Отправлено")},n.open("POST","mail.php",!0),n.send(t),e.target.reset()})),body.addEventListener("click",(function(e){console.log("click target =>",e.target)})),mailUsSection.addEventListener("click",(function(e){e.target!=tippyBtn&&tippyBtn.classList.contains("is-active")&&!tippyMessage&&tippyBtn.classList.remove("is-active")})),body.addEventListener("keydown",(function(e){191===e.keyCode&&console.log(document.activeElement)}));